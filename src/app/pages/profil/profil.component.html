
<div class="profil-container" *ngIf="!authService.getCurrentUser(); else profilInfo">
  <div class="tabs">
    <button (click)="setView('login')" [class.active]="view === 'login'">Bejelentkez√©s</button>
    <button (click)="setView('register')" [class.active]="view === 'register'">Regisztr√°ci√≥</button>
  </div>

  <form *ngIf="view === 'login'" (ngSubmit)="onLogin()" class="form-box">
    <h2>Bejelentkez√©s</h2>
    <label>Email</label>
    <input type="email" [(ngModel)]="loginData.email" name="loginEmail" required />
    <label>Jelsz√≥</label>
    <input type="password" [(ngModel)]="loginData.password" name="loginPassword" required />
    <button type="submit">Bel√©p√©s</button>
  </form>

  <form *ngIf="view === 'register'" (ngSubmit)="onRegister()" class="form-box">
    <h2>Regisztr√°ci√≥</h2>
    <label>N√©v</label>
    <input type="text" [(ngModel)]="registerData.name" name="registerName" required />
    <label>Email</label>
    <input type="email" [(ngModel)]="registerData.email" name="registerEmail" required />
    <label>Jelsz√≥</label>
    <input type="password" [(ngModel)]="registerData.password" name="registerPassword" required />
    <button type="submit">Regisztr√°lok</button>
  </form>
</div>

<ng-template #profilInfo>
  <div class="profil-box">
    <h2>√údv, {{ authService.getCurrentUser().name }}!</h2>
    <p><strong>Email:</strong> {{ authService.getCurrentUser().email }}</p>

    <h3>üßæ Kor√°bbi rendel√©seid:</h3>
    <div *ngIf="authService.getCurrentUser().rendelesek.length === 0">Nincsenek m√©g rendel√©seid.</div>
    <ul>
      <li *ngFor="let r of authService.getCurrentUser().rendelesek">
        <img [src]="r.kep" alt="{{ r.nev }}" width="50" style="vertical-align: middle; margin-right: 10px;">
        {{ r.nev }} ‚Äì {{ r.mennyiseg }} db ‚Äì {{ r.ar * r.mennyiseg }} Ft
        <span *ngIf="r.hazhozszallitas">
          ‚Äì H√°zhozsz√°ll√≠t√°ssal
        </span>
      </li>
    </ul>
  </div>
</ng-template>
